<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Started</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- style -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- headers -->
    <header class="text-gray-600 body-font sticky-top">
        <div class="container mx-auto flex flex-wrap p-4 flex-col md:flex-row items-center">
            <a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0" href="../index.html">
                <span class="ml-3 text-xl">MELODY</span>
            </a>
            <nav class="md:ml-auto flex flex-wrap items-center text-base justify-center">
                <a class="mr-5 hover:text-gray-900" href="getting_started.html">Getting Started</a>
                <a class="mr-5 hover:text-gray-900" href="user_guide.html">User Guide</a>
                <a class="mr-5 hover:text-gray-900" href="documentation.html">Documentation</a>
                <a class="mr-5 hover:text-gray-900" href="https://melody-data.github.io/stories/#catalogue">Examples</a>
            </nav>
        </div>
    </header>

    <!-- content -->
    <section class="text-gray-600 body-font">
        <div class="container px-5 mb-10">
            <div class="flex flex-col w-full">
                <h1 class="sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900">Getting Started</h1>
            </div>
            <div class="flex flex-wrap">
                <div class="container">
                    <!-- source code -->
                    <div class="row">
                        <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">Get the Source Code
                        </h2>
                        <div class="col">
                            <p>Download the latest release<a class="reference external" href=""></a>:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code
                                        id="codecell0"><span></span>https://github.com/polifonia-project/dashboard/releases</code>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <p>Clone the <a class="text-green-500"
                                    href="https://github.com/polifonia-project/dashboard">repository</a>:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code
                                        id="codecell1"><span></span>git clone https://github.com/polifonia-project/dashboard.git</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- environment -->
                    <div class="row">
                        <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">Set Up the Environment
                        </h2>
                        <ol class="list-group-numbered mb-4">
                            <li>Python3 should be installed properly in the workstation. If you
                                are not sure if Python
                                is properly installed, please open a terminal and type python --version.</li>
                            <li>Enter the project folder using the terminal/powershell/bash.</li>
                            <li>Install modules using a <a href="https://docs.python.org/3/library/venv.html"
                                    class="text-green-500" target="_blank">Virtual Environment</a>.</li>
                        </ol>
                        <div class="col">
                            <p>MacOS/Linux:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code id="codecell0">$ cd myproject<br>
                                        $ python3 -m venv venv<br>
                                        $ . venv/bin/activate</code>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <p>Windows:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code id="codecell1">> cd myproject<br>
                                        > python3 -m venv venv<br>
                                        > venv\Scripts\activate</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- requirements -->
                    <div class="row">
                        <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">Install Requirements
                        </h2>
                        <div class="col">
                            <p>To automatically install all the libraries that are requested for the the application,
                                simply run:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code id="codecell0">pip3 install -r requirements.txt</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- run application -->
                    <div class="row">
                        <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">Run the Application
                        </h2>
                        <div class="col">
                            <p>bash:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code id="codecell0">$ export FLASK_APP=app<br>
                                        $ flask run</code>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <p>CMD:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code id="codecell1">> set FLASK_APP=app<br>
                                        > flask run</code>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <p>Powershell:</p>
                            <div class="highlight-bash notranslate">
                                <div class="highlight">
                                    <code id="codecell1">> $env:FLASK_APP = "app"<br>
                                        > flask run</code>
                                </div>
                            </div>
                        </div>
                        <p>Running at <a class="text-green-500" href="http://127.0.0.1:5000/melody"
                                target="_blank">http://127.0.0.1:5000/melody</a>.</p>

                        <h2 id="auth" class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">
                            Authentication
                        </h2>
                        <p>MELODY has a tight-knit relation with GitHub. To use MELODY both locally
                            and in a production environment,
                            your instance must be paired with a GitHub repository and an OAuth Application for the authentication
                            (see <a class="text-green-500" target="_blank"
                                href="https://docs.github.com/en/developers/apps/building-oauth-apps/creating-an-oauth-app">how
                                to create an OAuth app</a>
                            connected to your instance of MELODY and
                            <a class="text-green-500" target="_blank"
                                href="https://docs.github.com/en/organizations/restricting-access-to-your-organizations-data/approving-oauth-apps-for-your-organization">how
                                to approve the app on your repository</a>).
                        </p>
                        <p>If you run the application locally, you need an OAuth app anyway.
                            Only collaborators of the repository can sign in with their GitHub account and can publish a
                            story, which will appear in the left sidebar. While configuring the OAuth Application for your local instance, use the following settings:</p>
                        <img src="img/oauth_local.png" style="max-width:50%">
                        <h2 id="auth" class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">
                            Configuration
                        </h2>
                        <p>After creating the OAuth app, modify the file <b>conf.py</b>
                            in the root directory to configure the login.</p>
                        <code>
                                  <pre>
        clientID='OAUth client id'
        clientSecret='OAUth client secret id'
        owner='the owner of the repository'
        repo_name='the repository name'
        token='the bearer token of the admin of the repository'</pre>
                                </code>

                        <h3><strong>Allow external collaborators (optional)</strong></h3>
                        <p>If you want to allow external collaborators to create stories, but you don't want these to be published with yours, you can create another online environment where external users'
                            stories are published. To do so, you will need:</p>
                        <ul>
                          <li>1. another GitHub repository with Github Pages enabled</li>
                          <li>2. copy the <a class="text-green-500" target="_blank" href="https://github.com/polifonia-project/dashboard/tree/main/static" target="_blank">static</a> folder in the new repository</li>
                          <li>3. add a few parameters to the configuration file on your dashboard</li>
                        </ul>
                        <code>
                                  <pre>
        melody_owner = 'the owner of the repository where external users can publish stories'
        melody_repo_name = 'the name of the repository where external users can publish stories'
        melody_sub_dir = 'the folder where stories are stored (copy here the folder "static")'
        melody_token = 'the bearer token of the admin of the repository'
        gituser = 'the name of the github user that will push commits'
        email = 'the email of the github user that will push commits'</pre>
                                </code>
                        <p>These parameters may be the same as the previous ones
                          (if you want all users to publish on the website of the dashboard)
                          or may be different (stories by external users are published elsewhere).</p>
                        <p>We do not ask many permissions to (external) users that login to MELODY
                          (only read user information). While we preserve the username and email of stories creators,
                          the publication of stories is managed by an admin (<b>gituser</b> | <b>email</b>), who can be the same as <b>melody_owner</b> and/or <b>owner</b>.</p>
                        


                    </div>
                    <div class="h-1 w-20 bg-green-500 rounded mt-10"></div>
                    <h4 class="text-lg sm:text-base text-gray-900 font-medium title-font mt-2">Now you have averything
                        you need to start the dashboard of your own project! Check the <a href="user_guide.html"
                            class="text-green-500">User Guide</a>.</h4>
                </div>
            </div>
        </div>
    </section>

    <!-- footer -->
    <footer class="text-gray-600 body-font mt-6">
        <div
            class="container px-5 py-24 mx-auto flex md:items-center lg:items-start md:flex-row md:flex-nowrap flex-wrap flex-col">
            <div class="w-64 flex-shrink-0 md:mx-0 mx-auto md:text-left">
                <p class="mt-2 text-sm text-gray-500">MELODY is part of</p>
                <a href="https://polifonia-project.eu/" target="_blank">
                    <img src="../static/img/logopolifonia.svg" style="background-color: darkslategray;">
                </a>
                <p class="mt-2 text-sm text-gray-500">Polifonia has received funding from the European Unionâ€™s Horizon
                    2020 research
                    and innovation programme under grant agreement N. 101004746.</p>
            </div>
            <div class="flex-grow flex flex-wrap md:pl-20 -mb-10 md:mt-0 mt-10 md:text-left ">
                <div class="lg:w-1/2 md:w-1/2 w-full px-4">
                    <h2 class="title-font font-medium text-gray-900 tracking-widest text-sm mb-3">ABOUT MELODY</h2>
                    <nav class="list-none mb-10">
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="https://polifonia-project.eu/"
                                target="_blank">
                                Polifonia
                            </a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="https://projects.dharc.unibo.it/melody"
                                target="_blank">
                                Melody dashboard
                            </a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="https://melody-data.github.io/stories/"
                                target="_blank">
                                Melody stories
                            </a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800"
                                href="https://github.com/polifonia-project/dashboard" target="_blank">Source code</a>
                        </li>
                    </nav>

                </div>
                <div class="lg:w-1/2 md:w-1/2 w-full px-4">
                    <h2 class="title-font font-medium text-gray-900 tracking-widest text-sm mb-3">LINKS</h2>
                    <nav class="list-none mb-10">
                        <li>
                            <a class="text-gray-600 hover:text-pink-800"
                                href="documentation/getting_started.html">Getting
                                started</a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="user_guide.html">User
                                Guide</a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="documentation.html">Documentation</a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800"
                                href="https://melody-data.github.io/stories/#catalogue" target="_blank">Examples</a>
                        </li>
                    </nav>

                </div>
            </div>
        </div>

    </footer>


    <!-- scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>
